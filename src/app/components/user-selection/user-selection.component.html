<div class="selection">
		<ng-container
			*ngTemplateOutlet="selectedCarpoolingTemplate; context:{title:'Vos covs Aller', selections:getSelectionsAller()}">
		</ng-container>
		<br />
		<ng-container
			*ngTemplateOutlet="selectedCarpoolingTemplate; context:{title:'Vos covs Retour', selections:getSelectionsRetour()}">
		</ng-container>
		<br />
</div>

<ng-template #selectedCarpoolingTemplate let-selections="selections" let-title="title">
	<h3 style="color:orange;">{{ title }}</h3>
	<mat-accordion class="header-content">
		<mat-expansion-panel *ngFor="let cp of selections" #matExpansionPanel>
			<mat-expansion-panel-header (click)="expandPanel(matExpansionPanel, $event)">
		     	<mat-panel-title>
		     		<span class="departure-hour">
		     			<b>{{ cp.getSimpleCarpooling(title === 'Vos covs Aller').heureDepart}}</b>
		     		</span>
		     		<span>
		     			Nb Pl. :
		      			<select id="monselect">
					  		<option value="1">1</option> 
					  		<option value="2" selected>2</option>
					  		<option value="3">3</option>
						</select> <span style="color: gray">/ 4</span>
		     		</span>
		     	</mat-panel-title>
		     	
		      	<mat-panel-description>
					<div class="route">
						<div class="row">
							<div class="col-5">
								<span class="color-green">
									{{cp.getSimpleCarpooling(title === 'Vos covs Aller').trajet.villeDepart}}
								</span>
							</div>
							<div class="col-2">
								<span class="fa fa-long-arrow-right fa-lg color-green" aria-hidden="true"></span>
							</div>
							<div class="col-5 pull-right">
								<span  class="color-red pull-right">
									{{cp.getSimpleCarpooling(title === 'Vos covs Aller').trajet.villeArrivee}}
								</span>
							</div>
						</div>
					</div>
		     		<span>{{cp.getSimpleCarpooling(title === 'Vos covs Aller').price}} &euro;</span>
		        	<mat-icon>account_circle</mat-icon>
		      	</mat-panel-description>
		      
		    </mat-expansion-panel-header>
		
			<div class="content1">
				<div class="row detail">
		
					<!-- Driver Infos -->
					<div class="col-3 driver border border-secondary rounded">
						<driver-info [driver]="cp.driver"></driver-info>
					</div>
					
					<div class="col-6 route">
						<route-detail [trajet]="cp.getSimpleCarpooling(title === 'Vos covs Aller').trajet"></route-detail>
					</div>
					
					<!-- Places -->
					<div  class="col-3">
						<places-dispo 
							[nbPlacesRestantes]="cp.getSimpleCarpooling(title === 'Vos covs Aller').nbPlacesRestantes">
						</places-dispo>
					</div>
					<!-- End Places -->
					
				</div>
				
				<div *ngIf="cp.getSimpleCarpooling(title === 'Vos covs Aller').linkedEvent" 
					class="row small-font full-width selection linked-event-zone">
					<cov-infos-barre
						[linkedEvent]="cp.getSimpleCarpooling(title === 'Vos covs Aller').linkedEvent">
					</cov-infos-barre>
				</div>
			</div>
		    
		</mat-expansion-panel>
	</mat-accordion>
</ng-template>
